{"ast":null,"code":"import axios from 'axios';\nconst endpoint = 'https://yts.lt/api/v2/';\n\n// make me axios reques to the endpoint and return the response\n\nconst query_movie_suggestions = async key => {\n  const {\n    data\n  } = await axios.get(`${endpoint}/list_movies.json`, {\n    params: {\n      query_term: key\n    }\n  });\n  if (data.status === 'ok') return data.data.movies;\n  throw new Error(data.status_message);\n};\nconst get_torrent_url = async movie_id => await yifyService.getMovie({\n  movie_id: movie_id,\n  with_images: true\n}).then(response => {\n  let movie = response.data.movie;\n  let torrent = movie.torrents.filter(t => t.quality === '1080p')[0];\n  return torrent;\n}).catch(e => console.error(e));\nexport { query_movie_suggestions, get_torrent_url };","map":{"version":3,"names":["axios","endpoint","query_movie_suggestions","key","data","get","params","query_term","status","movies","Error","status_message","get_torrent_url","movie_id","yifyService","getMovie","with_images","then","response","movie","torrent","torrents","filter","t","quality","catch","e","console","error"],"sources":["/home/telix/movie-downloader/src/yify-cli.js"],"sourcesContent":["import axios from 'axios';\n\nconst endpoint = 'https://yts.lt/api/v2/';\n\n\n// make me axios reques to the endpoint and return the response\n    \n\nconst query_movie_suggestions = async key => {\n  const { data } = await axios\n    .get(`${endpoint}/list_movies.json`,\n      { params: { query_term: key } }\n    )\n  if (data.status === 'ok')\n    return data.data.movies;\n  throw new Error(data.status_message);\n}\n\n\nconst get_torrent_url = async movie_id =>\n  await yifyService\n    .getMovie({\n      movie_id: movie_id,\n      with_images: true\n    }).then(response => {\n      let movie = response.data.movie;\n      let torrent = movie.torrents.filter(\n        t => t.quality === '1080p'\n      )[0]\n      return torrent\n    }).catch(e => console.error(e))\n\nexport { query_movie_suggestions, get_torrent_url }\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,wBAAwB;;AAGzC;;AAGA,MAAMC,uBAAuB,GAAG,MAAMC,GAAG,IAAI;EAC3C,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMJ,KAAK,CACzBK,GAAG,CAAE,GAAEJ,QAAS,mBAAkB,EACjC;IAAEK,MAAM,EAAE;MAAEC,UAAU,EAAEJ;IAAI;EAAE,CAAC,CAChC;EACH,IAAIC,IAAI,CAACI,MAAM,KAAK,IAAI,EACtB,OAAOJ,IAAI,CAACA,IAAI,CAACK,MAAM;EACzB,MAAM,IAAIC,KAAK,CAACN,IAAI,CAACO,cAAc,CAAC;AACtC,CAAC;AAGD,MAAMC,eAAe,GAAG,MAAMC,QAAQ,IACpC,MAAMC,WAAW,CACdC,QAAQ,CAAC;EACRF,QAAQ,EAAEA,QAAQ;EAClBG,WAAW,EAAE;AACf,CAAC,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAI;EAClB,IAAIC,KAAK,GAAGD,QAAQ,CAACd,IAAI,CAACe,KAAK;EAC/B,IAAIC,OAAO,GAAGD,KAAK,CAACE,QAAQ,CAACC,MAAM,CACjCC,CAAC,IAAIA,CAAC,CAACC,OAAO,KAAK,OAAO,CAC3B,CAAC,CAAC,CAAC;EACJ,OAAOJ,OAAO;AAChB,CAAC,CAAC,CAACK,KAAK,CAACC,CAAC,IAAIC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC,CAAC;AAEnC,SAASxB,uBAAuB,EAAEU,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}