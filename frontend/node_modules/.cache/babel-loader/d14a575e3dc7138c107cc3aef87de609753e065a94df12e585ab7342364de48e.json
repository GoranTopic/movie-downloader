{"ast":null,"code":"var _jsxFileName = \"/home/telix/movie-downloader/src/components/cardContent/ParsedDataPoint.js\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport Typography from '@mui/material/Typography';\nimport Chip from '@mui/material/Chip';\nimport { toCapitalizedWords } from '../../utils/formatString.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ParseDataPoint(_ref) {\n  _s();\n  let {\n    label,\n    data,\n    showLabel,\n    color\n  } = _ref;\n  /* example of object { \"numberOfAnalystOpinions\": { \"raw\": 44, \"fmt\": \"44\", \"longFmt\": \"44\" } } */\n  const [show, setShow] = React.useState(false);\n  const [isCyclable, setIsCyclable] = React.useState(false);\n  const [values, setValues] = React.useState([]);\n  const [value, setValue] = React.useState(null);\n  React.useEffect(() => {\n    // run once at mount\n    // if data is a objec\n    try {\n      if (data) {\n        if (typeof data === \"object\") {\n          // if this obj has some values\n          if (Object.values(data).length > 0) {\n            //console.log('values:', Object.values(data));\n            setValues(Object.values(data));\n            setShow(true);\n            // find preferable format\n            if (data['fmt']) setValue(data['fmt']);else if (data['longFmt']) setValue(data['longFmt']);else setValue(Object.values(data)[0]);\n            // get unique values\n            // has more than one value?\n            let uniques = new Set(Object.values(data).map(v => v === null || v === void 0 ? void 0 : v.toString()));\n            //console.log('uniques:', uniques)\n            if (uniques.size > 1)\n              //of we have more than one unique element \n              setIsCyclable(true);\n          }\n          //if data is a string\n        } else if (typeof data === \"string\") {\n          setShow(true); // set ot show\n          setValue(data); // se the string as the data\n          setIsCyclable(false); // data is not ccyclable\n        } else {\n          // niether a strign nor a obj\n          throw new Error(\"Passed Data mus be  string or obj\");\n        }\n      }\n    } catch (e) {\n      console.error(e);\n      //console.log('data:', typeof data);\n      //console.log('data:', data);\n    }\n  }, []);\n  const cycleValues = () => {\n    let index = values.indexOf(value);\n    if (index === values.length - 1) index = 0;else index++;\n    setValue(values[index]);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showLabel ? /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      paragraph: true,\n      children: [\" \", toCapitalizedWords(label) + \":\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this) : value ? isCyclable ? /*#__PURE__*/_jsxDEV(Chip, {\n      label: value,\n      variant: \"outlined\",\n      sx: {\n        backgroundColor: color.topColor\n      },\n      onClick: cycleValues\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Chip, {\n      label: value,\n      sx: {\n        backgroundColor: color.topColor\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Chip, {\n      label: \"N/A\",\n      sx: {\n        backgroundColor: color.bottomColor\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }, this)\n  }, void 0, false);\n}\n_s(ParseDataPoint, \"7Ce6QClGad1gNig0BPTfW+r9XZQ=\");\n_c = ParseDataPoint;\nvar _c;\n$RefreshReg$(_c, \"ParseDataPoint\");","map":{"version":3,"names":["React","Typography","Chip","toCapitalizedWords","jsxDEV","_jsxDEV","Fragment","_Fragment","ParseDataPoint","_ref","_s","label","data","showLabel","color","show","setShow","useState","isCyclable","setIsCyclable","values","setValues","value","setValue","useEffect","Object","length","uniques","Set","map","v","toString","size","Error","e","console","error","cycleValues","index","indexOf","children","variant","paragraph","fileName","_jsxFileName","lineNumber","columnNumber","sx","backgroundColor","topColor","onClick","bottomColor","_c","$RefreshReg$"],"sources":["/home/telix/movie-downloader/src/components/cardContent/ParsedDataPoint.js"],"sourcesContent":["import * as React from 'react';\nimport Typography from '@mui/material/Typography';\nimport Chip from '@mui/material/Chip';\nimport { toCapitalizedWords } from '../../utils/formatString.js';\n\nexport default function ParseDataPoint({ label, data, showLabel, color }) {\n    /* example of object { \"numberOfAnalystOpinions\": { \"raw\": 44, \"fmt\": \"44\", \"longFmt\": \"44\" } } */\n    const [show, setShow] = React.useState(false);\n    const [isCyclable, setIsCyclable] = React.useState(false);\n    const [values, setValues] = React.useState([]);\n    const [value, setValue] = React.useState(null);\n\n    React.useEffect(() => { // run once at mount\n        // if data is a objec\n        try {\n            if (data) {\n                if (typeof data === \"object\") {\n                    // if this obj has some values\n                    if (Object.values(data).length > 0) {\n                        //console.log('values:', Object.values(data));\n                        setValues(Object.values(data));\n                        setShow(true)\n                        // find preferable format\n                        if (data['fmt']) setValue(data['fmt']);\n                        else if (data['longFmt']) setValue(data['longFmt']);\n                        else setValue(Object.values(data)[0]);\n                        // get unique values\n                        // has more than one value?\n                        let uniques = new Set(Object.values(data).map(v => v?.toString()));\n                        //console.log('uniques:', uniques)\n                        if (uniques.size > 1) //of we have more than one unique element \n                            setIsCyclable(true);\n                    }\n                    //if data is a string\n                } else if (typeof data === \"string\") {\n                    setShow(true) // set ot show\n                    setValue(data); // se the string as the data\n                    setIsCyclable(false); // data is not ccyclable\n                } else { // niether a strign nor a obj\n                    throw new Error(\"Passed Data mus be  string or obj\")\n                }\n            }\n        } catch (e) {\n            console.error(e)\n            //console.log('data:', typeof data);\n            //console.log('data:', data);\n        }\n    }, []);\n\n    const cycleValues = () => {\n        let index = values.indexOf(value);\n        if (index === values.length - 1) index = 0;\n        else index++;\n        setValue(values[index]);\n    }\n\n    return <>\n        {showLabel ?\n            <Typography variant=\"body1\" paragraph> {toCapitalizedWords(label) + \":\"} </Typography> :\n            value ?\n                isCyclable ?\n                    <Chip label={value} variant=\"outlined\" sx={{ backgroundColor: color.topColor }} onClick={cycleValues} /> :\n                    <Chip label={value} sx={{ backgroundColor: color.topColor }} />\n                : <Chip label={\"N/A\"} sx={{ backgroundColor: color.bottomColor }} />\n        }\n    </>\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}